Linux 挂载命名空间详解
1. 基础概念
什么是命名空间
Linux 内核提供的隔离机制
不同进程看到不同的文件系统视图
传统挂载与命名空间挂载的区别
传统：全局可见
命名空间：隔离可见
2. 工作原理
命名空间的层次结构
全局命名空间
私有命名空间
父子关系
挂载传播规则
私有挂载
共享挂载
从属挂载
3. 实际应用场景
容器技术
Docker
LXC
系统服务隔离
systemd-udevd
其他系统服务
安全隔离
特权隔离
资源访问控制
4. 常见问题与解决方案
udev 规则中的挂载问题
为什么直接挂载不可见
正确的挂载方法
systemd-mount 的使用
命令参数
最佳实践
5. 实践演示
命令行操作
# 终端 1：原始命名空间
$ mount | grep /mnt
# 显示当前挂载点

# 终端 2：新命名空间
$ sudo unshare --mount /bin/bash
$ mount /dev/sdb1 /mnt/test
$ ls /mnt/test
# 可以看到挂载的内容

# 终端 1：原始命名空间
$ ls /mnt/test
# 看不到挂载的内容